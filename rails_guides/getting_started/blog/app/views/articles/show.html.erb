<p>
    <strong>Title:</strong>
    <%= @article.title %>
</p>

<p>
    <strong>Text:</strong>
    <%= @article.text %>
</p>

<h2>Comments</h2>
<% @article.comments.each do |comment| %>
    <p>
	<strong>Commenter:</strong>
	<%= comment.commenter %>
    </p>
    
    <p>
	<strong>Comment:</strong>
	<%= comment.body %>
    </p>
<% end %>


<h2>Add a comment:</h2>
<%= form_with(model: [ @article, @article.comments.build ], local: true) do |form| %>
    <%#
    An array of model objects are passed to model in form_with method call.
    This will build a nested route, such as /article/1/comments

    @article.comments is an object of
    ActiveRecord::Associations::CollectionProxy
    
    @article.comments.build will create a new object of Comments and link it to 
    @article.
    %>

    <p>
	<%= form.label :commenter %><br>
	<%= form.text_field :commenter %>
    </p>
    <p>
	<%= form.label :body %><br>
	<%= form.text_area :body %>
    </p>
    <p>
	<%= form.submit %>
    </p>
<% end %>

<%= link_to 'Edit', edit_article_path(@article)%>
<%= link_to 'Back', articles_path%>